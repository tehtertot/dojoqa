<h1>Registration</h1>
<form (submit)="register(); regForm.reset()" #regForm="ngForm">
    
    <div class="row">
        <label class="col-sm-4">First Name:</label>
        <div class="col-sm-7">
          <input type="text" name="firstName" required [(ngModel)]="user.FirstName" #firstName="ngModel" class="form-control">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!firstName.valid && (firstName.dirty || firstName.touched)">First name is required</div>
    
    <br>
    
    <div class="row">
        <label class="col-sm-4">Last Name:</label>
        <div class="col-sm-7">
          <input type="text" name="lastName" required [(ngModel)]="user.LastName" #lastName="ngModel" class="form-control">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!lastName.valid && (lastName.dirty || lastName.touched)">Last name is required</div>

    <br>
    
    <div class="row">
        <label class="col-sm-4">Email Address:</label>
        <div class="col-sm-7">
          <input type="email" name="email" required [(ngModel)]="user.Email" #email="ngModel" class="form-control">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!email.valid && (email.dirty || email.touched)">Email is required</div>
    
    <br>
    
    <div class="form-group row">
        <label class="col-sm-4 col-form-label">Current Stack:</label>
        <div class="col-sm-7">
            <select id="select" class="form-control" name="stack" #stack="ngModel" [(ngModel)]="user.CurrentStack">
                <option *ngFor = "let s of stacks; let idx = index" [ngValue]="idx"> {{s}} 
                </option>
            </select>
        </div>
    </div>

    <br>

    <div class="row">
        <label class="col-sm-4 col-form-label">Password:</label>
        <div class="col-sm-7">
            <!-- add regex pattern validation -->
            <!-- default Identity validations: at least 6 characters, one non-alphanumeric, one lowercase, one uppercase -->
          <input type="password" name="password" required [(ngModel)]="user.Password" #password="ngModel" class="form-control" minlength="6" validateEqual="cpw" pattern="/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{6,}$/">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!password.valid && (password.dirty || password.touched)">Must be at least 6 characters, have one lowercase, one uppercase, and one non alpha-numeric character</div>
    
    <br>

    <div class="row">
        <label class="col-sm-4">Confirm Password:</label>
        <div class="col-sm-7">
          <input type="password" name="cpw" required [(ngModel)]="user.confirmPassword" #cpw="ngModel" class="form-control" validateEqual="password" reverse="false">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!cpw.valid && (cpw.dirty || cpw.touched)">Passwords do not match</div>
    
    <br>
    
    <input type="submit" value="Register" [disabled]="!regForm.form.valid" class="btn btn-primary">
</form>

<hr>

<h1>Login</h1>
<p>{{loginerrors}}</p>
<form (submit)="userlogin()" #loginForm="ngForm">
    
    <div class="row">
        <label class="col-sm-4">Email Address:</label>
        <div class="col-sm-7">
          <input type="email" name="lemail" required [(ngModel)]="login.Email" #lemail="ngModel" class="form-control">
        </div>
    </div>
    <div class="col-sm-4"></div>
    <div class="col-sm-6 error" *ngIf="!lemail.valid && (lemail.dirty || lemail.touched)">Invalid email</div>
    
    <br>
    
    <div class="row">
        <label class="col-sm-4">Password:</label>
        <div class="col-sm-7">
            <!-- add regex pattern validation -->
            <!-- default Identity validations: at least 6 characters, one non-alphanumeric, one lowercase, one uppercase -->
          <input type="password" name="lpassword" required [(ngModel)]="login.Password" #lpassword="ngModel" class="form-control" minlength="5">
        </div>
    </div>
    
    <br>

    <input type="submit" value="Log In" [disabled]="!loginForm.form.valid" class="btn btn-primary">
</form>